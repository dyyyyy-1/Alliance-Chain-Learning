# 摘要算法

## 概念

摘要算法又称**哈希算法**、**散列算法**。摘要也称哈希值，表示输入任意长度的数据，都会输出固定长度的数据。
_摘要算法不是加密算法，不能用于加密（因为无法通过摘要反推明文），只能用于防篡改。_

如果你想传递的内容是“我是帅哥”，MD5加密以后摘要就为“953d58aaa9da68009b966b28c806477a”
假设有人篡改了你的内容为“我不是帅哥”，计算出来的摘要就变成了“d570e44e89c318e4168c377dcbf6064b”
对比原文摘要就可以知道内容有没有被篡改。

## 特点

1. 输出长度固定
     - 摘要算法会将任意长度的输入数据转换为固定长度的输出，通常以比特为单位。
2. 唯一性
     - 不同的输入数据经过摘要算法得到的哈希值通常是唯一的，即不同的输入数据生成不同的哈希值。虽然理论上存在哈希碰撞（即两个不同的输入数据产生相同的哈希值），但好的摘要算法通常会极大地减少这种可能性。
3. 不可逆性
     - 摘要算法是单向的，即从哈希值推导出原始输入数据是很困难的。
4. 敏感性
     - 输入的数据只要稍微变动一点，输出的结果会变成截然不同的哈希值。
  
## 摘要算法实例

### MD5算法

#### MD5的特点

运算速度快：
  - MD5的运算均为32位 与、或、非、位移等位运算，因此其运算速率快，几乎不消耗CPU时间。
碰撞性：
  - 原始数据与其MD5散列结果并非一一对应，存在多个原始数据的MD5结果相同的可能性。  
不安全：
  - 2011年，RFC 6151 禁止MD5用作密钥散列消息认证码。

#### 算法原理

MD5 摘要算法大概计算过程可以描述如下：
 1. 填充
     - 如果输入信息的长度(bit)对512求余的结果不等于448，就需要填充使得对512求余结果等于448。填充的方法是填充一个1和n个0。填充完成后，信息的长度为N*512+448。
 2. 记录信息长度
     - 用64位内存来当做一个缓冲区存储填充前信息长度，分为四个16位部分，用来存储中间结果和最终结果。这64位加在第一步结果的后面，这样信息长度就变为N*512 + 448 + 64 = (N+1)*512
 3. 处理分组
     -  填充后的数据被划分为长度为512位的分组，每个分组又划分为16个32位的子分组。然后，通过一系列的位操作和模加运算，每个分组都被处理并更新缓冲区的内容。这个过程涉及四个主要的轮函数和一系列的非线性函数。
 4. 输出
     - 处理完所有分组后，缓冲区中的内容就是最终的哈希值。这个哈希值是一个128位的数，通常表示为32个十六进制数。
   
### SHA-256算法 

#### SHA-256概述

SHA-256的输出有2^256中可能性，但输入的信息可以是无限的，所以一定存在两段信息他们的hash值是一样的，MD5已经被攻破了，sha256应该也存在破解的方式，但截止目前人类还没发现。








