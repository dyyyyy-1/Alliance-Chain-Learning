# 什么是数字证书？

通过前几篇文档我们知道，摘要算法用来确保数据没有被篡改，对称加密算法与非对称加密算法可以对数据进行加解密，签名算法可以确保数据完整性和抗否认性，把这些算法集合到一起，并搞一套完善的标准，这就是数字证书。

通俗地讲，数字证书就是个人或单位在网络上的身份证。数字证书以密码学为基础，采用数字签名、数字信封、时间戳服务等技术，在Internet上建立起有效的信任机制。它主要包含证书所有者的信息、证书所有者的公开密钥和证书颁发机构的签名等内容。

## 数字证书的组成部分

一般来说，数字证书的组成部分有
  - 证书所有者的信息：包括证书的主题（通常是个人或组织的名称）、颁发者（CA的名称）、证书的有效期等。
  - 公钥：证书中包含了持有者的公钥，用于加密和验证数字签名。
  - 数字签名：CA使用其私钥对证书内容进行数字签名，用来验证证书的完整性和真实性。

## 证书颁发过程

  1. 证书请求：证书持有者生成一对密钥（公钥和私钥），并向CA提交证书请求，包括身份信息等。
  2. 验证：CA验证证书请求者的身份和信息，通常通过身份证明文件或者域名的所有权验证。
  3. 签发证书：CA使用自己的私钥对证书信息进行签名，并将签名后的证书返回给请求者。

## 证书的信任链

### 信任链的组成部分
  1. **服务器证书**：这是由服务器生成并由证书颁发机构（Certificate Authority，CA）签名的证书，用于证明服务器的身份。服务器证书包含了服务器的公钥以及相关信息，如组织名称、域名等。

  2. **中间证书**：中间证书是连接服务器证书和根证书的桥梁。它们由较高层次的CA签发，并且自己也可能有下级CA（即更低级别的中间证书或服务器证书）。中间证书不直接签发服务器证书，但它们的存在是为了帮助构建信任链。
  
  3. **根证书**：根证书是最高级别的CA证书，它们由操作系统或浏览器内置，并由操作系统或浏览器维护。根证书签发中间证书，中间证书再签发服务器证书。根证书是信任链的根基，它们作为信任的起点。

### 如何验证信任链

  1. 当客户端（如浏览器）连接到使用SSL/TLS保护的服务器时，服务器会将其证书链发送给客户端。
  
  2. 客户端会依次验证服务器证书、中间证书和根证书，确保每个证书都有效且受信任。
  
  3. 验证过程包括检查证书的有效性（是否过期、是否被吊销等）和检查签名链的完整性（是否每个证书都能正确验证前一个证书的签名）。



